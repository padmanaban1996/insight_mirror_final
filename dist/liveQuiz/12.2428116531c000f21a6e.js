(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{L0xO:function(e,t,n){"use strict";n.r(t),n.d(t,"ScheduleModule",function(){return et});var i=n("ofXK"),a=n("3Pt+"),s=n("1kSV"),l=n("tk/3"),r=n("ZOsW"),o=n("AytR"),c=n("fXoL");const d=o.a.base_api_url+"/schedule/";let m=(()=>{class e{constructor(e){this.httpClient=e}createSchedule(e){return this.httpClient.post(d,e)}getSchedules(e,t){return this.httpClient.get(d+e+"/"+t)}deleteOneSchedule(e){return this.httpClient.delete(d+e)}saveAttendance(e,t){return this.httpClient.put(d+t+"/attendance",e)}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275inject"](l.HttpClient))},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=n("tyNb"),u=n("njyG"),p=n("XNiG"),g=n("EUZL"),f=n("XZ4W"),x=n("gvIg"),b=n("ns++"),v=n("VToC"),S=n("dNgK"),_=n("4HcB"),y=n("RKuE"),C=n("wZkO");const w=["table"],I=function(e,t){return{width:e,"background-color":t}};function E(e,t){if(1&e&&c["\u0275\u0275element"](0,"div",22),2&e){const e=t.$implicit;c["\u0275\u0275property"]("ngStyle",c["\u0275\u0275pureFunction2"](1,I,e.width+"%",e.color))}}const M=function(){return{width:"100%"}};function O(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275elementStart"](4,"div",19),c["\u0275\u0275template"](5,E,1,4,"div",20),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"td"),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"td"),c["\u0275\u0275elementStart"](9,"input",21),c["\u0275\u0275listener"]("ngModelChange",function(n){c["\u0275\u0275restoreView"](e);const i=t.index;return c["\u0275\u0275nextContext"](3).allStudentsAttendance[i].status=n})("click",function(){c["\u0275\u0275restoreView"](e);const n=t.index;return c["\u0275\u0275nextContext"](3).giveAttendance(n)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.name),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngStyle",c["\u0275\u0275pureFunction0"](7,M)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",i.studentWiseCalculatedArray[n]),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("",i.studentWiseOverallpercentage[n],"%"),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("disabled",i.attendanceStatus)("ngModel",i.allStudentsAttendance[n].status),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",i.allStudentsAttendance[n].status?"Present":"Absent"," ")}}function j(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",23),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).saveData()}),c["\u0275\u0275text"](1,"Save"),c["\u0275\u0275elementEnd"]()}}function k(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",23),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).exportAsXLSX()}),c["\u0275\u0275element"](1,"i",24),c["\u0275\u0275text"](2,"Excel"),c["\u0275\u0275elementEnd"]()}}function L(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",7),c["\u0275\u0275elementStart"](1,"h1",8),c["\u0275\u0275text"](2,"Attendance"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",9),c["\u0275\u0275elementStart"](4,"div",10),c["\u0275\u0275element"](5,"span",11),c["\u0275\u0275elementStart"](6,"span",12),c["\u0275\u0275text"](7,"Not joined"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"div",10),c["\u0275\u0275element"](9,"span",13),c["\u0275\u0275elementStart"](10,"span",12),c["\u0275\u0275text"](11,"Active and Present in Call"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"div",10),c["\u0275\u0275element"](13,"span",14),c["\u0275\u0275elementStart"](14,"span",12),c["\u0275\u0275text"](15,"Tab switching/changing application"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"table",15),c["\u0275\u0275elementStart"](17,"thead"),c["\u0275\u0275elementStart"](18,"tr",16),c["\u0275\u0275elementStart"](19,"th"),c["\u0275\u0275text"](20,"Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"th"),c["\u0275\u0275text"](22,"Activities Index"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"th"),c["\u0275\u0275text"](24,"Activity"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"th"),c["\u0275\u0275text"](26,"Attendance"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"tbody"),c["\u0275\u0275template"](28,O,11,8,"tr",6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](29,"div",17),c["\u0275\u0275template"](30,j,2,0,"button",18),c["\u0275\u0275template"](31,k,3,0,"button",18),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](16),c["\u0275\u0275property"]("dtOptions",e.dtOptions),c["\u0275\u0275advance"](12),c["\u0275\u0275property"]("ngForOf",e.allStudentsAttendance),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",!e.attendanceStatus),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.attendanceStatus)}}function P(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",25),c["\u0275\u0275elementStart"](1,"h1",26),c["\u0275\u0275text"](2,"Schedule Details"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"table",27),c["\u0275\u0275elementStart"](4,"thead"),c["\u0275\u0275elementStart"](5,"tr",16),c["\u0275\u0275elementStart"](6,"th"),c["\u0275\u0275text"](7,"School Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"th"),c["\u0275\u0275text"](9,"No of Participants"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"th"),c["\u0275\u0275text"](11,"No of Host"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"th"),c["\u0275\u0275text"](13,"Host Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"th"),c["\u0275\u0275text"](15,"Schedule Date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"th"),c["\u0275\u0275text"](17,"From"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"th"),c["\u0275\u0275text"](19,"To"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"th"),c["\u0275\u0275text"](21,"Duration"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"th"),c["\u0275\u0275text"](23,"Subject"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](24,"tbody"),c["\u0275\u0275elementStart"](25,"tr"),c["\u0275\u0275elementStart"](26,"td"),c["\u0275\u0275text"](27),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"td"),c["\u0275\u0275text"](29),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"td"),c["\u0275\u0275text"](31,"1"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](32,"td"),c["\u0275\u0275text"](33),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](34,"td"),c["\u0275\u0275text"](35),c["\u0275\u0275pipe"](36,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](37,"td"),c["\u0275\u0275text"](38),c["\u0275\u0275pipe"](39,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](40,"td"),c["\u0275\u0275text"](41),c["\u0275\u0275pipe"](42,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](43,"td"),c["\u0275\u0275text"](44),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](45,"td"),c["\u0275\u0275text"](46),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](47,"div",28),c["\u0275\u0275elementStart"](48,"button",29),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).exportexcel()}),c["\u0275\u0275element"](49,"i",24),c["\u0275\u0275text"](50,"Excel"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("dtOptions",e.dtOptions),c["\u0275\u0275advance"](24),c["\u0275\u0275textInterpolate"](e.schoolName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.noOfparticipants),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](e.hostName),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind2"](36,9,e.schedule.scheduled_date,"yyyy-MM-dd")),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind2"](39,12,e.schedule.starts_at,"h:mm a")),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind2"](42,15,e.schedule.ends_at,"h:mm a")),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"]("",e.duration," min"),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.schedule.subject)}}function z(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e,"")}}function A(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"thead"),c["\u0275\u0275elementStart"](1,"tr"),c["\u0275\u0275elementStart"](2,"th"),c["\u0275\u0275text"](3,"Name"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](4,z,2,1,"th",6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit,t=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngForOf",t._object.keys(e.answerSheet[0].answerSheet))}}function D(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.answerSheet[e].answer||"Did not Answer"," ")}}function F(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](3,D,2,1,"td",6),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](5);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.name),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",n._object.keys(e.answerSheet))}}function V(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tbody"),c["\u0275\u0275template"](1,F,4,2,"tr",6),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.answerSheet)}}function Q(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",32),c["\u0275\u0275elementStart"](1,"h1",26),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"table",33),c["\u0275\u0275template"](4,A,5,1,"thead",1),c["\u0275\u0275template"](5,V,2,1,"tbody",1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit,t=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.quizName),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("dtOptions",t.dtOptions),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",void 0!==e.answerSheet[0]),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",void 0!==e.answerSheet)}}function T(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275elementStart"](1,"mat-tab",30),c["\u0275\u0275template"](2,Q,6,4,"ng-template",31),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("label",e.quizName)}}function N(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-tab-group"),c["\u0275\u0275elementStart"](1,"mat-tab",2),c["\u0275\u0275template"](2,L,32,4,"ng-template",3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"mat-tab",4),c["\u0275\u0275template"](4,P,51,18,"ng-template",5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](5,T,3,1,"div",6),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngForOf",e.quizResults)}}let q=(()=>{class e{constructor(e,t,n,i,a,s,l,r,o,d,m){this.scheduleservice=e,this.userService=t,this.localUserService=n,this.quizResultsService=i,this.excelService=a,this.changeDetector=s,this.matSnackBar=l,this.schoolService=r,this.datePipe=o,this.teacherService=d,this.router=m,this.allStudentsAttendance=[],this.ScheduleAttendence=[],this.studentAttendance=[],this.oneStudentActivity=[],this._Atime=[],this._Btime=[],this._Index_activity=[],this.attendanceStatus=null,this.AggregatePercentage=0,this.resultArray=[],this.studentWise={},this.schoolId="",this.studentWiseCalculatedArray=[],this.studentWiseOverallpercentage=[],this._object=Object,this.students=[],this.quizResults=[],this.dtOptions={},this.labels=[],this.dtTrigger=new p.a,this.isViewInitialized=!1,this.close_summary_modal=new c.EventEmitter,this.everyUserActivity=[],this.schoolDetail={},this.teacherModel={},this.dtOptions={pagingType:"full",responsive:!0,pageLength:10,dom:"Pfrtip",searching:!0,language:{search:"",searchPlaceholder:"Search..."}},this.schedule=this.router.getCurrentNavigation().extras.state.scheduleselected,console.log(this.schedule)}ngOnInit(){this.getSchoolData(),this.getHostData(),this.userService.getStudents(this.localUserService.getUser().belongs_to_school).subscribe(e=>{this.students=e,this.attendanceStatus=this.schedule.attendanceClosed,this.noOfparticipants=this.schedule.participants.length;const t=Math.floor((new Date(this.schedule.ends_at).valueOf()-new Date(this.schedule.starts_at).valueOf())/1e3);this.duration=Math.round(t/60);for(let n=0;n<this.schedule.participants.length;n++){this.allStudentsAttendance[n]={},this.allStudentsAttendance[n].name="";const e=this.schedule.activities.find(e=>e.participant_id==this.schedule.participants[n]);this.allStudentsAttendance[n].status=null!=e;const t=this.schedule.activities.find(e=>e.participant_id==this.schedule.host_id);null!=t&&console.log("Teacher value is",t),this.allStudentsAttendance[n].name=this.students.find(e=>e._id==this.schedule.participants[n]).name,this.allStudentsAttendance[n].participant_id=this.schedule.participants[n]}this.processSingleSchedule(this.schedule.activities,this.schedule.participants,this.schedule.starts_at,this.schedule.ends_at),this.dtTrigger.next()}),this.quizResultsService.getQuizResultsInLiveClass(this.schedule._id).subscribe(e=>{if(console.log("from service",e),this.quizResults=e,e==[])this.quizResults=null;else for(let t=0;t<e.length;t++)this.labels.push(t+1+" Quiz Result")},e=>console.error("",e))}getSchoolData(){this.schoolService.getSingleSchoolDetails(this.localUserService.getUser().belongs_to_school).subscribe(e=>{this.schoolDetail=e,this.schoolName=this.schoolDetail.name})}getHostData(){this.teacherService.getSingleTeacher(this.schedule.host_id).subscribe(e=>{this.teacherModel=e,this.hostName=this.teacherModel.name})}ngonViewInit(){this.dtTrigger.next()}exportexcel(){let e=document.getElementById("excel-table2");const t=g.utils.table_to_sheet(e),n=g.utils.book_new();g.utils.book_append_sheet(n,t,"Sheet1"),g.writeFile(n,"LiveClassDetails.xlsx")}exportAsXLSX(){let e=document.getElementById("excel-table1");const t=g.utils.table_to_sheet(e),n=g.utils.book_new();g.utils.book_append_sheet(n,t,"Sheet1");for(var i={r:1,c:1},a={r:this.studentWiseOverallpercentage.length,c:3},s=i.r;s<=a.r;++s)for(var l=i.c;l<=a.c;++l){var r=t[g.utils.encode_cell({r:s,c:l})];r&&"n"==r.t&&(r.z="0%")}t["!cols"]=[],t["!cols"][1]={hidden:!0},g.writeFile(n,"LiveclassSummary.xlsx")}giveAttendance(e){this.allStudentsAttendance[e].status=!this.allStudentsAttendance[e].status}saveData(){this.scheduleservice.saveAttendance(this.allStudentsAttendance,this.schedule._id).subscribe(e=>{this.close_summary_modal.emit(!0),this.matSnackBar.open("Attendance summary Saved","success",{duration:1e3})})}ngAfterViewInit(){console.log(" ngafterviewinit called"),this.isViewInitialized=!0,this.changeDetector.detectChanges()}generateColor(e){return"roomopen"==e?"#ff0000":"join"==e?"#f55145":"blur"==e?"#55b559":"back"==e?"#ff9e0f":"leave"==e?"#55b559":"close"==e||"roomclose"==e?"#ffffff":void 0}processSingleSchedule(e,t,n,i){for(let a in t)this.studentWise[t[a]]=[];for(let a in e)this.studentWise[e[a].participant_id].push(e[a]);for(let[a,s]of Object.entries(this.studentWise))this.studentWiseCalculatedArray.push(this.processEachStudent(s,a,n,i));console.log("student wise calucalated array",this.studentWiseCalculatedArray)}processEachStudent(e,t,n,i){const a=e;console.log(a),this.resultArray=[];const s=Math.floor((new Date(i).valueOf()-new Date(n).valueOf())/1e3);console.log("total",s);let l=0;for(let r=0;r<a.length;r++){const e=this.generateColor(a[r].activity_type);let t=0;if(0==r){const e=Math.floor((new Date(a[0].time).valueOf()-new Date(n).valueOf())/1e3);t=Math.round(e/s*100),console.log("index 0",t)}else if(r==a.length-1){const e=Math.floor((new Date(i).valueOf()-new Date(a[r].time).valueOf())/1e3);t=Math.round(e/s*100),console.log("index last",t),l+t!=100&&(t=100-l)}else{const e=Math.floor((new Date(a[r].time).valueOf()-new Date(a[r-1].time).valueOf())/1e3);t=Math.round(e/s*100),console.log("for loop",t)}l=t+l,this.resultArray.push({type:a[r].activity_type,color:e,width:t})}return console.log("result Array",this.resultArray),l=0,this.resultArray.forEach(e=>{"#55b559"==e.color&&(l=e.width+l)}),this.studentWiseOverallpercentage.push(l),this.resultArray}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](m),c["\u0275\u0275directiveInject"](f.a),c["\u0275\u0275directiveInject"](x.a),c["\u0275\u0275directiveInject"](b.a),c["\u0275\u0275directiveInject"](v.a),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](S.a),c["\u0275\u0275directiveInject"](_.a),c["\u0275\u0275directiveInject"](i.DatePipe),c["\u0275\u0275directiveInject"](y.a),c["\u0275\u0275directiveInject"](h.c))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-attendence-summary"]],viewQuery:function(e,t){var n;1&e&&(c["\u0275\u0275viewQuery"](w,!0),c["\u0275\u0275viewQuery"](u.a,!0)),2&e&&(c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.table=n.first),c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.dtElement=n.first))},outputs:{close_summary_modal:"close_summary_modal"},decls:2,vars:1,consts:[[1,"container"],[4,"ngIf"],["label","Summary"],["matTabContent","","class","mt-0"],["label","Details"],["matTabContent","","class","mt-1"],[4,"ngFor","ngForOf"],[1,"_text_color","schedule_heading"],[1,"details_title","my-2"],[1,"row","justify-content-center","mt-0"],[1,"title","mt-0"],[1,"red_button"],[1,"text","_text_color"],[1,"green_button"],[1,"yellow_button"],["id","excel-table1","datatable","",1,"row-border","hover","mt-0",3,"dtOptions"],[1,"text-white"],[1,"mt-0",2,"display","flex","justify-content","center"],["class","btn mt-0",3,"click",4,"ngIf"],[1,"progress",3,"ngStyle"],["class","progress-bar","role","progressbar",3,"ngStyle",4,"ngFor","ngForOf"],["type","checkbox","id","",3,"disabled","ngModel","ngModelChange","click"],["role","progressbar",1,"progress-bar",3,"ngStyle"],[1,"btn","mt-0",3,"click"],[1,"fa","fa-file-excel-o",2,"font-size","15px"],[1,"_text_color","schedule_heading","mt-1"],[1,"details_title","mb-1"],["id","excel-table2","datatable","",1,"row-border","hover","mt-1",3,"dtOptions"],[1,"mt-1",2,"display","flex","justify-content","center"],[1,"btn","mt-1",3,"click"],[3,"label"],["matTabContent","","class","mt-2"],[1,"_text_color","schedule_heading","mt-2"],["datatable","",1,"row-border","hover","mt-2",3,"dtOptions"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275template"](1,N,6,1,"mat-tab-group",1),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null!==t.quizResults))},directives:[i.NgIf,C.c,C.a,C.b,i.NgForOf,u.a,i.NgStyle,a.a,a.q,a.t],pipes:[i.DatePipe],styles:[".title[_ngcontent-%COMP%]{display:block;height:22px;line-height:22px;padding:4px 6px;font-size:14px;color:#000;margin-bottom:13px;clear:both}  mat-tab-header{align-self:center}.schedule_heading[_ngcontent-%COMP%]{display:flex;justify-content:center}.title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{float:right;margin-right:5px}.title[_ngcontent-%COMP%]   .red_button[_ngcontent-%COMP%]{float:left}.flex-container[_ngcontent-%COMP%]{display:flex;justify-content:cenetr;align-items:flex-end;flex-wrap:wrap;flex-direction:column}.flex-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:5px}.red_button[_ngcontent-%COMP%]{background:#f55145}.green_button[_ngcontent-%COMP%], .red_button[_ngcontent-%COMP%]{display:inline-block;text-align:center;padding:0;height:20px;width:20px;cursor:pointer;border-radius:5px;box-shadow:0 4px 8px rgba(0,0,0,.2);transition:.3s;margin:2px}.green_button[_ngcontent-%COMP%]{background:#55b559}.yellow_button[_ngcontent-%COMP%]{display:inline-block;text-align:center;padding:0;height:20px;width:20px;background:#ff9e0f;cursor:pointer;border-radius:5px;box-shadow:0 4px 8px rgba(0,0,0,.2);transition:.3s;margin:2px}label[_ngcontent-%COMP%]{margin-left:-10px}.dt-button.copyButton[_ngcontent-%COMP%]{color:red!important}"]}),e})();var B=n("ecC8"),R=n("wd/R"),$=n("l207"),U=n("f4AX"),W=n("Mdnn"),G=n("Rs8g"),H=n("Q4sr"),Y=n("b6Qw"),X=n("OrhT"),J=n("kmnG"),K=n("qFsG"),Z=n("iadO"),ee=n("A5z7");const te=["chipList"];function ne(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",26),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.scheduleCreateError)}}function ie(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"label",27),c["\u0275\u0275elementStart"](1,"input",28),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit,i=t.index;return c["\u0275\u0275nextContext"]().selectedClass(n._id,i)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"titlecase"),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,1,e.name),"")}}function ae(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"mat-chip-list",29),c["\u0275\u0275elementStart"](1,"mat-chip",30),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=t.index;return c["\u0275\u0275nextContext"]().removeItem(n)}),c["\u0275\u0275element"](2,"i",31),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"titlecase"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](4,1,e.name),"")}}const se=R;let le=(()=>{class e{constructor(e,t,n,i,a,s,l,r,o,c,d){this.fb=e,this.localUserService=t,this.userServcice=n,this.schoolService=i,this.atp=a,this.jwtService=s,this.scheduleservice=l,this.classesService=r,this.matSnackBar=o,this.router=c,this.cookieService=d,this.participantsSelected=[],this.submitted=!1,this.showMsg=!1,this.starts_at_formated=new Date,this.classesList=[],this.classCheck=[],this.subjectList=[],this.flag=!1,this.greater=!1,this.subjects=["Maths","Chemistry","Physics","Biology","Geography","Computer","English","History"],this.loggedInUser=this.localUserService.getUser(),this.subjectList=this.loggedInUser._teacher.subjects,this.val=this.cookieService.get("jwt_token"),this.classesIdList=this.localUserService.getUser()._teacher.belongs_to_class,this.starts_at_time="10:00",this.ends_at_time="11:00",this.starts_at_time2="10:00",this.ends_at_time2="11:00",this.dt=new Date,this.scheduleCreateTitle=$.ub,this.scheduleCreateError=$.tb,this.meetNameLabel=$.M,this.meetNamePlaceholder=$.N,this.SubjectsSelectLabel=$.b,this.subjectsSelectPlaceholder=$.dc,this.addParticipentsLabel=$.c,this.dateLabel=$.B,this.startTimeLabel=$.Kb,this.endTimeLabel=$.F,this.scheduleCreateButton=$.sb}ngOnInit(){for(const e of this.classesIdList)this.classesService.getOneClassDetailsById(e).subscribe(e=>{this.classesList.push(e),this.classCheck.push(!1)});this.initForm(),this.today=new Date}eachClassOnClick(){}initForm(){this.createScheduleForm=this.fb.group({name:["",a.A.required],host_id:[""],belongs_to_school:[""],subject:[""],starts_at:["",a.A.required],ends_at:["",a.A.required],scheduled_date:["",a.A.required],participants:[""]})}get f(){return this.createScheduleForm.controls}selectedClass(e,t){this.classCheck[t]=!this.classCheck[t],console.log("check value"),1==this.classCheck[t]?(console.log("add called"),this.classesList.forEach(t=>{t._id==e&&t.students.forEach(e=>{-1==this.participantsSelected.findIndex(t=>t.name==e.name)&&this.participantsSelected.push(e)})})):(console.log("remove called"),this.classesList[t].students.forEach(e=>{for(let t=0;t<this.participantsSelected.length;t++)e._id==this.participantsSelected[t]._id&&this.participantsSelected.splice(t)}))}removeItem(e){this.participantsSelected.splice(e,1)}onSubmit(){if(this.submitted=!0,this.flag=!0,1==this.loggedInUser.subscriptionPlan&&this.participantsSelected.length>60)this.matSnackBar.open("your subscription allows only 60 participants per schedule","failed",{duration:2e3});else{const e=this.createScheduleForm.value;let t=[];this.participantsSelected.forEach(e=>{t.push(e._id)}),e.belongs_to_school=this.loggedInUser.belongs_to_school,e.participants=t,e.host_id=this.loggedInUser._id,e.subject=this.subjectsSelected,e.starts_at=this.starts_at_time,e.ends_at=this.ends_at_time,console.log(e),this.scheduleservice.createSchedule(e).subscribe(e=>{this.router.navigate(["livequiz/schedule/list"]),console.log(e),this.showMsg=!0,this.resetForm(),this.flag=!1})}}openClock(e,t){this.atp.open().afterClose().subscribe(e=>{console.log(e);const n=this.dt=se(new Date).format("MM/DD/YYYY")+" "+e;let i=se(n).utc(),a=se(n).format("LT");i.format("YYYY-MM-DD HH:mm:ss"),1==t?(this.starts_at_time=i,this.starts_at_time2=a):(this.ends_at_time=i,this.ends_at_time2=a),this.greater=this.ends_at_time<this.starts_at_time})}resetForm(){this.createScheduleForm.reset()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](a.g),c["\u0275\u0275directiveInject"](x.a),c["\u0275\u0275directiveInject"](U.a),c["\u0275\u0275directiveInject"](_.a),c["\u0275\u0275directiveInject"](W.b),c["\u0275\u0275directiveInject"](G.a),c["\u0275\u0275directiveInject"](m),c["\u0275\u0275directiveInject"](H.a),c["\u0275\u0275directiveInject"](S.a),c["\u0275\u0275directiveInject"](h.c),c["\u0275\u0275directiveInject"](Y.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-form"]],viewQuery:function(e,t){var n;1&e&&c["\u0275\u0275viewQuery"](te,!0),2&e&&c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.chipList=n.first)},decls:44,vars:27,consts:[[1,"container","_text_color","px-md-5","px-sm-0","px-xs-0"],[2,"text-align","center"],[3,"formGroup","ngSubmit"],["class","alert alert-danger",4,"ngIf"],[1,"row"],[1,"col"],[1,"form-group"],["for","number",1,"control-label","required"],["formControlName","name","required","","appCheckFormFieldValidity","",1,"form-control",3,"placeholder"],["formControlName","subject","appendTo","body",3,"items","placeholder","closeOnSelect","ngModel","ngModelChange"],[1,"formGroup"],["class","m-1",4,"ngFor","ngForOf"],[1,"classListBox"],["class","classList",4,"ngFor","ngForOf"],["for","startTime"],["formControlName","starts_at","appCheckFormFieldValidity","",1,"form-control",3,"ngModel","ngModelChange","click"],[1,"col","form-group"],["formControlName","ends_at","appCheckFormFieldValidity","",1,"form-control",3,"ngModel","ngModelChange","click"],["appearance","fill"],["matInput","","formControlName","scheduled_date","id","date","placeholder","MM/DD/YYY",3,"matDatepicker","min","ngModel","ngModelChange"],["matSuffix","",1,"_text_color",3,"for"],[1,"_text_color"],["picker1",""],[1,"bt"],["color","primary","type","submit",1,"btn",3,"disabled"],["aria-hidden","true",1,"fa","fa-plus-circle","mr-1"],[1,"alert","alert-danger"],[1,"m-1"],["type","checkbox",3,"click"],[1,"classList"],[1,"m-2",3,"click"],[1,"fa","fa-close","p-1"]],template:function(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"h1",1),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"form",2),c["\u0275\u0275listener"]("ngSubmit",function(){return t.onSubmit()}),c["\u0275\u0275template"](4,ne,2,1,"div",3),c["\u0275\u0275elementStart"](5,"div",4),c["\u0275\u0275elementStart"](6,"div",5),c["\u0275\u0275elementStart"](7,"div",6),c["\u0275\u0275elementStart"](8,"label",7),c["\u0275\u0275text"](9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](10,"input",8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"div",6),c["\u0275\u0275elementStart"](12,"label",7),c["\u0275\u0275text"](13),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"ng-select",9),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.subjectsSelected=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"div",6),c["\u0275\u0275elementStart"](16,"label"),c["\u0275\u0275text"](17),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"div",10),c["\u0275\u0275template"](19,ie,4,3,"label",11),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"div",12),c["\u0275\u0275template"](21,ae,5,3,"mat-chip-list",13),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"div",4),c["\u0275\u0275elementStart"](23,"div",5),c["\u0275\u0275elementStart"](24,"label",14),c["\u0275\u0275text"](25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](26,"input",15),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.starts_at_time2=e})("click",function(e){return t.openClock(e,1)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"div",16),c["\u0275\u0275elementStart"](28,"label",14),c["\u0275\u0275text"](29),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"input",17),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.ends_at_time2=e})("click",function(e){return t.openClock(e,2)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"div",6),c["\u0275\u0275elementStart"](32,"label"),c["\u0275\u0275text"](33),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](34,"mat-form-field",18),c["\u0275\u0275elementStart"](35,"input",19),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.dt=e}),c["\u0275\u0275pipe"](36,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](37,"mat-datepicker-toggle",20),c["\u0275\u0275element"](38,"mat-datepicker",21,22),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](40,"div",23),c["\u0275\u0275elementStart"](41,"button",24),c["\u0275\u0275element"](42,"i",25),c["\u0275\u0275text"](43),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275reference"](39);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](t.scheduleCreateTitle),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("formGroup",t.createScheduleForm),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.greater),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](t.meetNameLabel),c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("placeholder",t.meetNamePlaceholder),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](t.SubjectsSelectLabel),c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("placeholder",t.subjectsSelectPlaceholder),c["\u0275\u0275property"]("items",t.subjects)("closeOnSelect",!0)("ngModel",t.subjectsSelected),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](t.addParticipentsLabel),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",t.classesList),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",t.participantsSelected),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](t.startTimeLabel),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",t.starts_at_time2),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](t.endTimeLabel),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",t.ends_at_time2),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](t.dateLabel),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("min",c["\u0275\u0275pipeBind2"](36,24,t.today,"yyyy-MM-dd")),c["\u0275\u0275property"]("matDatepicker",e)("ngModel",t.dt),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("for",e),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("disabled",t.createScheduleForm.invalid||t.flag||t.greater),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](t.scheduleCreateButton)}},directives:[a.C,a.r,a.k,i.NgIf,a.d,a.q,a.i,a.y,X.a,r.a,i.NgForOf,J.b,K.b,Z.b,Z.d,J.g,Z.a,ee.b,ee.a],pipes:[i.DatePipe,i.TitleCasePipe],styles:[".container[_ngcontent-%COMP%]{height:calc(100vh - 220px)!important;overflow:scroll;overflow-x:hidden;-ms-overflow-style:none;scrollbar-width:none}.container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}[type=date][_ngcontent-%COMP%]{background:#fff url(https://cdn1.iconfinder.com/data/icons/cc_mono_icon_set/blacks/16x16/calendar_2.png) 97% 50% no-repeat}[type=date][_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{opacity:0}.matCard[_ngcontent-%COMP%]{margin-top:85px;padding-top:25px}mat-form-field[_ngcontent-%COMP%]{width:100%;height:-15px}.bt[_ngcontent-%COMP%]{text-align:center}span[_ngcontent-%COMP%]{margin-left:65px}mat-button-toggle-group[_ngcontent-%COMP%]{margin-block-end:-225px;height:40px}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.my-form-field[_ngcontent-%COMP%]{margin-bottom:-1.25em}@media only screen and (max-width:600px){mat-button-toggle-group[_ngcontent-%COMP%]{margin-bottom:25px;height:40px}.time[_ngcontent-%COMP%]{height:15px;margin-top:5px}._text_color[_ngcontent-%COMP%]{height:calc(100vh - 100px)!important;overflow:scroll;overflow-x:hidden}}.classList[_ngcontent-%COMP%]{display:inline-block;width:auto;height:auto}.time[_ngcontent-%COMP%]{height:15px;margin:5px;width:8%}"]}),e})();var re=n("lDzL"),oe=n("7dP1"),ce=n("UW/M"),de=n("jaxi"),me=n("zTjc"),he=n("Xa2L");const ue=["myCanvas"];function pe(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"app-im-alert",19),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.scheduleError,"")}}function ge(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"a",20),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().openAddNewSchedule()}),c["\u0275\u0275element"](1,"i",21),c["\u0275\u0275elementEnd"]()}}const fe=function(){return{standalone:!0}};function xe(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",22),c["\u0275\u0275elementStart"](1,"ng-select",23),c["\u0275\u0275listener"]("itemsChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().allTeachersList=t})("change",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().filterList()})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().teacherSelected=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("placeholder",e.teacherFilterPlaceholder),c["\u0275\u0275property"]("items",e.allTeachersList)("selectableGroup",!0)("closeOnSelect",!0)("ngModel",e.teacherSelected)("ngModelOptions",c["\u0275\u0275pureFunction0"](6,fe))}}function be(e,t){1&e&&c["\u0275\u0275element"](0,"mat-spinner",24),2&e&&c["\u0275\u0275property"]("diameter",50)}function ve(e,t){1&e&&c["\u0275\u0275element"](0,"img",46)}function Se(e,t){1&e&&c["\u0275\u0275element"](0,"img",47)}function _e(e,t){1&e&&c["\u0275\u0275element"](0,"img",48)}function ye(e,t){1&e&&c["\u0275\u0275element"](0,"img",49)}function Ce(e,t){1&e&&c["\u0275\u0275element"](0,"img",50)}function we(e,t){1&e&&c["\u0275\u0275element"](0,"img",51)}function Ie(e,t){1&e&&c["\u0275\u0275element"](0,"img",52)}function Ee(e,t){1&e&&c["\u0275\u0275element"](0,"img",53)}function Me(e,t){1&e&&c["\u0275\u0275element"](0,"img",54)}function Oe(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",55),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"]().startClass(t)}),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.Joinclass)}}function je(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",55),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"]().open(t)}),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.summary,"")}}function ke(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"button",56),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit,t=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("disabled",0==e.session_started),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",t.Joinclass,"")}}function Le(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",55),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"]().startClass(t)}),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.start)}}function Pe(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",25,26),c["\u0275\u0275elementStart"](2,"div",27),c["\u0275\u0275element"](3,"div",28),c["\u0275\u0275elementStart"](4,"div",29),c["\u0275\u0275elementStart"](5,"div",30),c["\u0275\u0275elementStart"](6,"h2",31),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](8,ve,1,0,"img",32),c["\u0275\u0275template"](9,Se,1,0,"img",33),c["\u0275\u0275template"](10,_e,1,0,"img",34),c["\u0275\u0275template"](11,ye,1,0,"img",35),c["\u0275\u0275template"](12,Ce,1,0,"img",36),c["\u0275\u0275template"](13,we,1,0,"img",37),c["\u0275\u0275template"](14,Ie,1,0,"img",38),c["\u0275\u0275template"](15,Ee,1,0,"img",39),c["\u0275\u0275template"](16,Me,1,0,"img",40),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"div",41),c["\u0275\u0275elementStart"](18,"h2"),c["\u0275\u0275text"](19),c["\u0275\u0275pipe"](20,"titlecase"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"h3"),c["\u0275\u0275text"](22),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"div"),c["\u0275\u0275elementStart"](24,"span"),c["\u0275\u0275text"](25,"From -"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](26,"span",42),c["\u0275\u0275text"](27),c["\u0275\u0275pipe"](28,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](29,"div"),c["\u0275\u0275elementStart"](30,"span"),c["\u0275\u0275text"](31,"To -"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](32,"span",42),c["\u0275\u0275text"](33),c["\u0275\u0275pipe"](34,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](35,"div",43),c["\u0275\u0275template"](36,Oe,2,1,"button",44),c["\u0275\u0275template"](37,je,2,1,"button",44),c["\u0275\u0275template"](38,ke,2,2,"button",45),c["\u0275\u0275template"](39,Le,2,1,"button",44),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate"](e.subject),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Maths"==e.subject),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Chemistry"==e.subject),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Physics"==e.subject),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Biology"==e.subject),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Geography"==e.subject),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Computer"==e.subject),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","History"==e.subject),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","English"==e.subject),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==e.subject),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](20,18,e.name)),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"]("",n.scheduleTimeLabel," :"),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind2"](28,20,e.starts_at,"h:mm a"),""),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind2"](34,23,e.ends_at,"h:mm a"),""),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",1==e.session_started&&0==e.sesssion_ended),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",("admin"==n.role||"teacher"==n.role)&&1==e.sesssion_ended&&1==e.session_started),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",("student"==n.role||"admin"==n.role)&&0==e.session_started),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","teacher"==n.role&&!0!==e.host_joined)}}function ze(e,t){1&e&&c["\u0275\u0275element"](0,"img",46)}function Ae(e,t){1&e&&c["\u0275\u0275element"](0,"img",47)}function De(e,t){1&e&&c["\u0275\u0275element"](0,"img",48)}function Fe(e,t){1&e&&c["\u0275\u0275element"](0,"img",49)}function Ve(e,t){1&e&&c["\u0275\u0275element"](0,"img",50)}function Qe(e,t){1&e&&c["\u0275\u0275element"](0,"img",51)}function Te(e,t){1&e&&c["\u0275\u0275element"](0,"img",52)}function Ne(e,t){1&e&&c["\u0275\u0275element"](0,"img",53)}function qe(e,t){1&e&&c["\u0275\u0275element"](0,"img",54)}function Be(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",55),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](3).$implicit;return c["\u0275\u0275nextContext"]().openQuizResults(t)}),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.summary,"")}}function Re(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",61),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](3).$implicit;return c["\u0275\u0275nextContext"]().startQuiztoStudent(t)}),c["\u0275\u0275text"](1," Join Quiz"),c["\u0275\u0275elementEnd"]()}}function $e(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",43),c["\u0275\u0275template"](1,Be,2,1,"button",44),c["\u0275\u0275template"](2,Re,2,0,"button",60),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!0===e.participant[0].attended),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!1===e.participant[0].attended)}}function Ue(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",43),c["\u0275\u0275elementStart"](1,"button",55),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](2).$implicit;return c["\u0275\u0275nextContext"]().openQuizResults(t)}),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",e.summary,"")}}function We(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",27),c["\u0275\u0275element"](1,"div",28),c["\u0275\u0275elementStart"](2,"div",29),c["\u0275\u0275elementStart"](3,"div",30),c["\u0275\u0275elementStart"](4,"h2",31),c["\u0275\u0275text"](5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](6,ze,1,0,"img",32),c["\u0275\u0275template"](7,Ae,1,0,"img",33),c["\u0275\u0275template"](8,De,1,0,"img",34),c["\u0275\u0275template"](9,Fe,1,0,"img",35),c["\u0275\u0275template"](10,Ve,1,0,"img",36),c["\u0275\u0275template"](11,Qe,1,0,"img",37),c["\u0275\u0275template"](12,Te,1,0,"img",38),c["\u0275\u0275template"](13,Ne,1,0,"img",39),c["\u0275\u0275template"](14,qe,1,0,"img",40),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"div",58),c["\u0275\u0275elementStart"](16,"h2"),c["\u0275\u0275text"](17),c["\u0275\u0275pipe"](18,"titlecase"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](19,$e,3,2,"div",59),c["\u0275\u0275template"](20,Ue,3,1,"div",59),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit,t=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](e.subject),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Maths"==e.subject),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Chemistry"==e.subject),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Physics"==e.subject),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Biology"==e.subject),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Geography"==e.subject),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Computer"==e.subject),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","History"==e.subject),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","English"==e.subject),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==e.subject||null==e.subject||""==e.subject),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](18,13,e.name)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","student"===t.user.role),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","teacher"===t.user.role)}}function Ge(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",25,26),c["\u0275\u0275template"](2,We,21,15,"div",57),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==e.scheduled)}}const He=[{path:"",canActivate:[B.a],children:[{path:"",redirectTo:"list"},{path:"list",component:(()=>{class e{constructor(e,t,n,i,a,s,l,r,o,c,d,m){this.localUserStorage=e,this.userService=t,this.authApi=n,this.localService=i,this.scheduleService=a,this.jwtService=s,this.schoolService=l,this.modelService=r,this.router=o,this.appRef=c,this.cd=d,this.quizService=m,this.showDiv=[],this.scheduleList=[],this.allScheduleList=[],this.filteredScheduleList=[],this.allQuizList=[],this.filteredQuizList=[],this.quizLength=null,this.scheduleLength=null,this.type=null,this.subject=null,this.teacherSelected=null,this.loading=!0,this.initialCall=!1,this.rows=[],this.temp=[],this.participant=[],this.user=this.localUserStorage.getUser(),this.studentId=this.user._id,this.role=this.user.role,this.date=Date.now(),this.type="2","superadmin"!==this.role&&this.schoolService.getSingleSchoolDetails(this.user.belongs_to_school).subscribe(e=>{this.allSubject=e.subjects}),this.scheduleError=$.vb,this.schedulePageTitle=$.wb,this.matToggleLabel1=$.J,this.matToggleLabel2=$.K,this.matToggleLabel3=$.L,this.scheduleAddButton=$.rb,this.teacherFilterPlaceholder=$.mc,this.subjectFilterPlaceholder=$.ac,this.scheduleTimeLabel=$.xb,this.Joinclass=$.a,this.summary=$.ec,this.start=$.Jb}onFocus(e){this.refreshData()}onBlur(e){clearInterval(this.timer)}ngAfterViewInit(){this.localService.getUser(),localStorage.getItem("jwt_token")}ngOnInit(){"superadmin"!==this.user.role&&(this.userService.getAllUsers(this.user.belongs_to_school).subscribe(e=>{this.users=e,this.allTeachersList=e.filter(e=>"teacher"==e.role),this.loading=!0}),this.getData(),this.cd.detectChanges(),this.refreshData())}refreshData(){this.timer=setInterval(()=>{this.getData(),this.ngAfterViewInit()},3e3)}getData(){"superadmin"!==this.user.role&&this.scheduleService.getSchedules(this.user.belongs_to_school,this.user._id).subscribe(e=>{this.allScheduleList=e.reverse(),this.scheduleLength=e.length,this.initialCall=!0,this.filterList()})}ngOnDestroy(){clearInterval(this.timer)}filterList(){if(this.filteredScheduleList=this.allScheduleList,this.filteredQuizList=this.allQuizList,null!==this.type)switch(this.type){case"1":this.filteredScheduleList=this.filteredScheduleList,this.filteredQuizList=this.allQuizList.filter(e=>!0===e.scheduled),this.temp=[...this.filteredScheduleList],this.temp=[...this.filteredQuizList];break;case"2":this.filteredScheduleList=this.filteredScheduleList.filter(e=>!1===e.sesssion_ended),this.filteredQuizList=this.filteredQuizList.filter(e=>!1===e.session_ended&&!0===e.scheduled),this.temp=[...this.filteredScheduleList],this.temp=[...this.filteredQuizList];break;case"3":this.filteredScheduleList=this.filteredScheduleList.filter(e=>!0===e.sesssion_ended),this.filteredQuizList=this.filteredQuizList.filter(e=>!0===e.session_ended),this.temp=[...this.filteredScheduleList],this.temp=[...this.filteredQuizList];break;default:this.filteredScheduleList=this.filteredScheduleList.filter(e=>!1===e.sesssion_ended),this.filteredQuizList=this.filteredQuizList.filter(e=>!1===e.session_ended),this.temp=[...this.filteredScheduleList],this.temp=[...this.filteredQuizList]}null!==this.teacherSelected&&(this.filteredScheduleList=this.filteredScheduleList.filter(e=>e.host_id==this.teacherSelected)),this.scheduleLength=this.filteredScheduleList.length,this.quizLength=this.filteredQuizList.length}updateFilter(e){const t=e.target.value.toLowerCase(),n=this.temp.filter(function(e){return-1!==e.name.toLowerCase().indexOf(t)||!t});this.filteredScheduleList=n}openAddNewSchedule(){this.router.navigate(["livequiz","schedule","create"])}startClass(e){this.router.navigate(["liveclass"],{state:{schedule:e}})}openQuizResults(e){"student"==this.user.role&&this.router.navigate(["livequiz/quiz/student_result/",e._id,this.user._id]),"teacher"==this.user.role&&this.router.navigate(["livequiz/quiz/result"],{state:{quiz:e},skipLocationChange:!0})}startQuiztoStudent(e){this.router.navigate(["test"],{state:{quiz:e,reattempt:!1},skipLocationChange:!0})}delete(e){this.scheduleService.deleteOneSchedule(e).subscribe(e=>{})}open(e){this.scheduleselected=e,this.router.navigate(["livequiz/schedule/attendence"],{state:{scheduleselected:e},skipLocationChange:!0}),this.appRef.tick()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](x.a),c["\u0275\u0275directiveInject"](U.a),c["\u0275\u0275directiveInject"](oe.a),c["\u0275\u0275directiveInject"](x.a),c["\u0275\u0275directiveInject"](m),c["\u0275\u0275directiveInject"](G.a),c["\u0275\u0275directiveInject"](_.a),c["\u0275\u0275directiveInject"](s.d),c["\u0275\u0275directiveInject"](h.c),c["\u0275\u0275directiveInject"](c.ApplicationRef),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](ce.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-schedule-ui"]],viewQuery:function(e,t){var n;1&e&&(c["\u0275\u0275viewQuery"](re.e,!0),c["\u0275\u0275viewQuery"](ue,!0)),2&e&&(c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.table=n.first),c["\u0275\u0275queryRefresh"](n=c["\u0275\u0275loadQuery"]())&&(t.myCanvas=n.first))},hostBindings:function(e,t){1&e&&c["\u0275\u0275listener"]("focus",function(e){return t.onFocus(e)},!1,c["\u0275\u0275resolveWindow"])("blur",function(e){return t.onBlur(e)},!1,c["\u0275\u0275resolveWindow"])},decls:26,vars:11,consts:[[1,"parent"],[1,"row","error_msg_mobile"],["class","error_msg","type","danger",4,"ngIf"],[1,"child1"],[1,"_text_color","schedule_heading"],[1,"schedule_title","mb-1"],[1,"row","_text_color","schedule_buttons_row"],[1,"schedule_buttons","ml-3"],["appearance","legacy","name","status-type","aria-label","Font Style",1,"_text_color",3,"ngModel","ngModelChange"],["value","1",1,"_text_color",3,"change"],["value","2",1,"_text_color",3,"change"],["value","3",1,"_text_color",3,"change"],["class","float",3,"click",4,"ngIf"],[1,"row","d-flex","justify-content-end","_text_color","mt-3"],["class","col-md-4",4,"ngIf"],[1,"child2"],["class","loading",3,"diameter",4,"ngIf"],[1,"row","py-1"],["class","col-md-4 col-sm-12 col-lg-4 col-xl-4 d-flex cols",4,"ngFor","ngForOf"],["type","danger",1,"error_msg"],[1,"float",3,"click"],[1,"fa","fa-plus","my-float"],[1,"col-md-4"],["bindLabel","name","bindValue","_id","appendTo","body",1,"customSelect",3,"items","placeholder","selectableGroup","closeOnSelect","ngModel","ngModelOptions","itemsChange","change","ngModelChange"],[1,"loading",3,"diameter"],[1,"col-md-4","col-sm-12","col-lg-4","col-xl-4","d-flex","cols"],["table",""],[1,"card","p-4","flex-fill"],[1,"bg-circle",2,"background","#3a8af6"],[1,"row"],[1,"col","text-center"],[1,"m-0"],["class","img-fluid d-block mx-auto","width","200","src","/assets/subjects/Mathematics.svg",4,"ngIf"],["class","img-fluid d-block mx-auto","width","200","src","/assets/subjects/Chemistry.svg",4,"ngIf"],["class","img-fluid d-block mx-auto","width","200","src","/assets/subjects/Physics.svg",4,"ngIf"],["class","img-fluid d-block mx-auto","width","200","src","/assets/subjects/Biology.svg",4,"ngIf"],["class","img-fluid d-block mx-auto","width","200","src","/assets/subjects/Geography.svg",4,"ngIf"],["class","img-fluid d-block mx-auto","width","200","src","/assets/subjects/Computer.svg",4,"ngIf"],["class","img-fluid d-block mx-auto","width","200","src","/assets/subjects/History.svg",4,"ngIf"],["class","img-fluid d-block mx-auto","width","200","src","/assets/subjects/English.svg",4,"ngIf"],["class","img-fluid d-block mx-auto","width","200","src","/assets/subjects/Language.svg",4,"ngIf"],[1,"col","align-self-center","text-white","text-center","content"],[1,"ml-1"],[1,"d-flex","justify-content-center","py-2"],["class","btn",3,"click",4,"ngIf"],["class","save-changes btn",3,"disabled",4,"ngIf"],["width","200","src","/assets/subjects/Mathematics.svg",1,"img-fluid","d-block","mx-auto"],["width","200","src","/assets/subjects/Chemistry.svg",1,"img-fluid","d-block","mx-auto"],["width","200","src","/assets/subjects/Physics.svg",1,"img-fluid","d-block","mx-auto"],["width","200","src","/assets/subjects/Biology.svg",1,"img-fluid","d-block","mx-auto"],["width","200","src","/assets/subjects/Geography.svg",1,"img-fluid","d-block","mx-auto"],["width","200","src","/assets/subjects/Computer.svg",1,"img-fluid","d-block","mx-auto"],["width","200","src","/assets/subjects/History.svg",1,"img-fluid","d-block","mx-auto"],["width","200","src","/assets/subjects/English.svg",1,"img-fluid","d-block","mx-auto"],["width","200","src","/assets/subjects/Language.svg",1,"img-fluid","d-block","mx-auto"],[1,"btn",3,"click"],[1,"save-changes","btn",3,"disabled"],["class","card p-4 flex-fill",4,"ngIf"],[1,"col","align-self-center","text-white","text-center"],["class","d-flex justify-content-center py-2",4,"ngIf"],["class","save-changes btn",3,"click",4,"ngIf"],[1,"save-changes","btn",3,"click"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275template"](2,pe,2,1,"app-im-alert",2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",3),c["\u0275\u0275elementStart"](4,"div",4),c["\u0275\u0275elementStart"](5,"h1",5),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",6),c["\u0275\u0275elementStart"](8,"div",7),c["\u0275\u0275elementStart"](9,"mat-button-toggle-group",8),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.type=e}),c["\u0275\u0275elementStart"](10,"mat-button-toggle",9),c["\u0275\u0275listener"]("change",function(){return t.filterList()}),c["\u0275\u0275text"](11),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"mat-button-toggle",10),c["\u0275\u0275listener"]("change",function(){return t.filterList()}),c["\u0275\u0275text"](13),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"mat-button-toggle",11),c["\u0275\u0275listener"]("change",function(){return t.filterList()}),c["\u0275\u0275text"](15),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"div"),c["\u0275\u0275template"](17,ge,2,0,"a",12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"div",13),c["\u0275\u0275template"](19,xe,2,7,"div",14),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"div",15),c["\u0275\u0275template"](21,be,1,1,"mat-spinner",16),c["\u0275\u0275elementStart"](22,"div",17),c["\u0275\u0275template"](23,Pe,40,26,"div",18),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](24,"div",17),c["\u0275\u0275template"](25,Ge,3,1,"div",18),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",0==t.scheduleLength&&"teacher"==t.user.role&&0==t.quizLength),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](t.schedulePageTitle),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",t.type),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("",t.matToggleLabel1," "),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("",t.matToggleLabel2," "),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("",t.matToggleLabel3," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","teacher"==t.user.role),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","admin"==t.role),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==t.loading&&null==t.scheduleLength),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",t.filteredScheduleList),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",t.filteredQuizList))},directives:[i.NgIf,de.b,a.q,a.t,de.a,i.NgForOf,me.a,r.a,he.b],pipes:[i.TitleCasePipe,i.DatePipe],styles:["mat-card[_ngcontent-%COMP%]{box-shadow:none!important}.child2[_ngcontent-%COMP%]{overflow:scroll;overflow-x:hidden;margin-top:5px;height:calc(100vh - 320px)!important;-ms-overflow-style:none;scrollbar-width:none}.canvas[_ngcontent-%COMP%]{position:absolute;z-index:0;right:-105px;top:-52px;border:none;border-radius:50%;background-color:#3a8af6}.btn[_ngcontent-%COMP%]{background-color:#87c7fb!important}.child2[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.cols[_ngcontent-%COMP%]{margin-bottom:10px}.search-wrapper[_ngcontent-%COMP%]{border-radius:20px;background-color:var(--search-area-bg);padding-right:12px;height:40px;display:flex;justify-content:space-between;align-items:center;width:100%;max-width:480px;color:var(--light-font);box-shadow:0 2px 6px 0 rgba(136,148,171,.2),0 24px 20px -24px rgba(71,82,107,.1);overflow:hidden}.search-input[_ngcontent-%COMP%]{border:none;flex:1;outline:none;height:100%;padding:0 20px;font-size:16px}.search-input[_ngcontent-%COMP%]:placeholder{opacity:.6}.schedule_info[_ngcontent-%COMP%]{align-items:center;flex-direction:column}.mat-card[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:2px 2px 2px -1px rgba(0,0,0,.12),1px 1px 1px 1px rgba(0,0,0,.12),1px 1px 2px 2px rgba(0,0,0,.12)}.scheduletime_title[_ngcontent-%COMP%]{margin:0!important}.mat-button-toggle[_ngcontent-%COMP%]{background-color:var(--button-color)!important;color:#fff!important}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}[_nghost-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]{border-radius:15px!important}.button_section[_ngcontent-%COMP%], .error_msg_mobile[_ngcontent-%COMP%]{display:flex;justify-content:center}.error_msg[_ngcontent-%COMP%]{position:absolute;top:145px;width:90%;margin:5px}.schedule_heading[_ngcontent-%COMP%]{display:flex;justify-content:center}.schedule_buttons_row[_ngcontent-%COMP%]{margin-bottom:16px}.card[_ngcontent-%COMP%]{width:100%;height:auto;z-index:2;overflow:hidden;box-sizing:border-box;margin:0;color:var(--text-color);border:2px solid #3a8af6;border-radius:35px}.bg-circle[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:0;background-color:#3a8af6;-webkit-clip-path:circle(48% at 85% 52%);clip-path:circle(48% at 85% 52%)}.btn[_ngcontent-%COMP%]{background-color:#76ba1b!important;border-radius:15px!important;color:var(--color)!important;box-shadow:0 8px 15px rgba(0,0,0,.1)}.btn[disabled][_ngcontent-%COMP%]{background-color:#bfbfbf!important;opacity:1}img[_ngcontent-%COMP%]{max-width:100%}.fa-arrow-left[_ngcontent-%COMP%]{font-size:20px}@media only screen and (max-width:600px){.child2[_ngcontent-%COMP%]{height:100%!important}.schedule_card[_ngcontent-%COMP%]{flex-basis:auto}.schedule_buttons[_ngcontent-%COMP%], .schedule_buttons_row[_ngcontent-%COMP%]{margin:0;justify-content:center}.schedule_imgs[_ngcontent-%COMP%]{padding:0!important}}"]}),e})(),canActivate:[B.a]},{path:"create",component:le,canActivate:[B.a]},{path:"attendence",component:q,canActivate:[B.a]}]}];let Ye=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[h.f.forChild(He)],h.f]}),e})();var Xe=n("Vxd/"),Je=n("Yph6"),Ke=n("zib+"),Ze=n("pKmL");let et=(()=>{class e{}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[m,Je.a],imports:[[i.CommonModule,l.HttpClientModule,r.b,a.m,s.e,a.x,Ye,Xe.a,Ke.a,W.a,Ze.a,u.b]]}),e})()}}]);